## This is bisque condor_submit template written for the mako template engine.
## Variables are substitued from the runtime-bisque.cfg and from the executing mex
## 
universe = vanilla
excecutable=${executable}
error = ./launcher.err
output = ./launcher.out
log = ./launcher.log
requirements = (Arch == "x86_64") && (TARGET.Name =!= LastMatchName1) && (OpSys == "LINUX") \\
%if extra_requirements:
   && (${extra_requirements})
%endif

on_exit_remove = (ExitBySignal == False)&&(ExitCode == 0)
should_transfer_files = YES
when_to_transfer_output = ON_EXIT_OR_EVICT
Notification = never
request_cpus = 1
request_memory = 1024

${condor_submit}

%for mex in mexes:
<%   
    if not mex.executable: 
        continue
%>
initialdir = ${mex.staging_path}
transfer_input_files  = ${' '.join(mex.transfers)}
arguments  = ${' '.join(mex.executable[1:])}
queue
%endfor
